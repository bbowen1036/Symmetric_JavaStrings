(()=>{var t={162:function(t,e,i){var s,o;void 0===(o="function"==typeof(s=function(){"use strict";function e(t,e,i){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){n(s.response,e,i)},s.onerror=function(){console.error("could not download file")},s.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i.g&&i.g.global===i.g?i.g:void 0,n=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,n){var c=h.URL||h.webkitURL,r=document.createElement("a");i=i||t.name||"download",r.download=i,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?o(r):s(r.href)?e(t,i,n):o(r,r.target="_blank")):(r.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(r.href)}),4e4),setTimeout((function(){o(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,h){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,h),i);else if(s(t))e(t,i,h);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){o(n)}))}}:function(t,i,s,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,s);var n="application/octet-stream"===t.type,c=/constructor/i.test(h.HTMLElement)||h.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||n&&c)&&"object"==typeof FileReader){var a=new FileReader;a.onloadend=function(){var t=a.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},a.readAsDataURL(t)}else{var l=h.URL||h.webkitURL,d=l.createObjectURL(t);o?o.location=d:location.href=d,o=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});h.saveAs=n.saveAs=n,t.exports=n})?s.apply(e,[]):s)||(t.exports=o)}},e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,i),o.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";var t=i(162);document.addEventListener("DOMContentLoaded",(function(){document.getElementById("saveing").addEventListener("click",(()=>{document.getElementById("canvas").toBlob((function(e){(0,t.saveAs)(e,"my_AWESOME_drawing.jpg")}))})),(()=>{const t=document.getElementById("wacky-header");document.getElementById("canvas").addEventListener("mousemove",(e=>{t.style.backgroundColor=`rgb(${e.offsetX%510}, ${e.offsetY%510}, ${e.clientX%225})`}))})(),(()=>{let t=document.getElementById("open-sidebar"),e=document.getElementById("spiro");e.onclick=()=>{let t=document.getElementById("sunflower-options");e.checked?t.style.display="block":t.style.display="none"},t.onclick=()=>{let e=document.getElementById("canvas"),i=document.getElementById("hide-me");t.classList.toggle("change"),i.classList.toggle("open"),"selector-bar open"===i.classList.value?(i.style.width="250px",i.style.padding="23px",e.style.marginLeft="250px"):(i.style.width="0",i.style.padding="0",e.style.marginLeft="0")}})(),new class{constructor(){this.canvas=document.getElementById("canvas"),this.clear=document.getElementById("clear"),this.color=document.getElementById("stylus-color"),this.bgColor=document.getElementById("background-color"),this.penWidth=document.getElementById("pen-width"),this.spiro=document.getElementById("spiro"),this.slicer=document.getElementById("divisions"),this.canvas.width=window.innerWidth-250,this.canvas.height=window.innerHeight-100,this.ctx=this.canvas.getContext("2d"),this.colorChoice="white",this.bgColorChoice=this.bgColor.jscolor,this.width=this.canvas.width,this.height=this.canvas.height,[this.startX,this.startY]=[this.width/2,this.height/2-100],[this.endX,this.endY]=[this.width/2,this.height/2],this.draw=!1,this.slices=24,this._angle=360/this.slices,this._start=0,this.center={x:this.width/2,y:this.height/2},this.canvas.onpointermove=this.handleMove.bind(this),this.canvas.onpointerdown=this.handleDown.bind(this),this.canvas.onpointerup=this.stopDrawing.bind(this),this.canvas.onpointerout=this.stopDrawing.bind(this),this.clear.onclick=this.handleClear.bind(this),this.color.onclick=this.colorSelect.bind(this),this.bgColor.onclick=this.bgColorSelect.bind(this),this.penWidth.onchange=this.widthPicker.bind(this)}spiralDraw(t,e,i,s){this.ctx.lineWidth=i,this.ctx.beginPath(),this.ctx.strokeStyle=s,this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke()}d2r(t){return t*Math.PI/180}sliceCount(){return this.slicer.value}rotate(t,e,i){return i=this.d2r(i),{x:(t.x-e.x)*Math.cos(i)-(t.y-e.y)*Math.sin(i)+e.x,y:(t.x-e.x)*Math.sin(i)+(t.y-e.y)*Math.cos(i)+e.y}}drawLine(t=this.startX,e=this.startY,i=this.endX,s=this.endY){let o=this.widthPicker(),h=this.colorChoice;if(this.spiroClick()){let n=this.sliceCount();for(let c=2;c<=n;c++){this._start+=360/n;let c=this.rotate({x:t,y:e},this.center,this._start),r=this.rotate({x:i,y:s},this.center,this._start);this.spiralDraw(c,r,o,h)}}else{this.ctx.beginPath(),this.ctx.lineWidth=this.widthPicker(),this.ctx.strokeStyle=this.colorChoice,this.ctx.lineCap="round",this.ctx.moveTo(t,e),this.ctx.lineTo(i,s);let o=t,h=this.height-e,n=i,c=this.height-s;this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width-t,h=e,n=this.width-i,c=s,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width-t,h=this.height-e,n=this.width-i,c=this.height-s,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width/2+this.height/2-e,h=this.width/2+this.height/2-t,n=this.width/2+this.height/2-s,c=this.width/2+this.height/2-i,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width/2+this.height/2-e,h=this.height/2-this.width/2+t,n=this.width/2+this.height/2-s,c=this.height/2-this.width/2+i,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width/2-this.height/2+e,h=this.width/2+this.height/2-t,n=this.width/2-this.height/2+s,c=this.width/2+this.height/2-i,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),o=this.width/2-this.height/2+e,h=this.height/2-this.width/2+t,n=this.width/2-this.height/2+s,c=this.height/2-this.width/2+i,this.ctx.moveTo(o,h),this.ctx.lineTo(n,c),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()}}handleMove(t){this.draw&&(this.getCoordinates(t),this.drawLine())}handleDown(t){this.getCoordinates(t),this.draw=!0,this.canvas.style.backgroundColor=this.bgColor.jscolor,t.shiftKey?(this.ctx.shadowColor="#7fff00",this.ctx.shadowBlur=10,this.ctx.shadowOffsetX=2,this.ctx.shadowOffsetY=2):(this.ctx.shadowColor="",this.ctx.shadowBlur=0,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0)}handleClear(){confirm("Start over?")&&this.ctx.clearRect(0,0,this.width,this.height)}stopDrawing(){this.draw=!1}getCoordinates(t){[this.startX,this.startY]=[this.endX,this.endY],this.endX=t.clientX-this.canvas.offsetLeft,this.endY=t.clientY-this.canvas.offsetTop}widthPicker(){return this.penWidth.value}colorSelect(){this.colorChoice=this.color.jscolor}bgColorSelect(){return this.bgColorChoice=this.bgColor.jscolor}spiroClick(){return this.spiro.checked}}}))})()})();
//# sourceMappingURL=bundle.js.map